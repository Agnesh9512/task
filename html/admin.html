<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatibale" content="IE-edge">
    <meta name="viewport" content="width=device-width" initial-scale="1.0">
    <title>Admin Login Page</title>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
    <script src="/js/admin.js"></script>
    <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/css/bootstrap.min.css">
    <link rel="stylesheet" type="text/css" href="/css/admin.css">
  </head>
 
  <body>
    <header>
      <nav class="navbar bg-info p-3">
        <div class="d-inline-flex justify-content-end collapse navbar-collapse">
          <button id="addproduct" class="btn btn-primary nav-item d-inline-flex">Add Products</button>
        </div>
      </nav>
    </header>
    
    <div id="dataAdd" class="container bg-light p-2 mt-3">
      <!-- <div id="productdata"> -->
    </div>
      <div class="container mt-3" id="form">
        <div id="productdata" class="m-5">
        </div>
      </div>
  </body>
</html>

<script>
  for(i=1; i<=localStorage.length; i++){
    let obj = JSON.parse(localStorage.getItem(i));
        pName = obj.name;
        pPrize = obj.prize;
        pCategory = obj.category;
        let userData ='<div class="card card-body"> <div><label>Product Name : <span id="name">'+pName+'</span></label><br><label> Product Prize : <span id="prize">'+pPrize+'</span> </label><br> <label> Product Category : <span id="category">'+pCategory+'</span> </label><br></div></div>'
        $("#dataAdd").append(userData);
  }

  $(document).ready(function(){
    $("#addproduct").click(function(){
    	console.log('caling')
    	$("#productdata").html(
        '<form class="form mt-3">' +
    		'<div class="p-3">' +
    		'<div>' +
    		'<label class="form-label">Product Name</label>' +
    		'<input type="text" id="pname" class="form-control" placeholder="enter your product name">' +
    		'</div>' +
    		'<div>' + 
    		'<label class="form-label mt-2">Product Prize</label>' +
    		'<input type="text" id="pprize" class="form-control" placeholder="enter prize of product">' +
    		'</div>' +
    		'<div>' +
    		'<label class="form-label mt-2">Product Category</label>' +
    		'<input type="text" id="pcategory" class="form-control" placeholder="enter category of your product">' +
    		'</div>' +
    		'<div>' +
    		'<button id="add" onclick="product()" class="btn btn-secondary form-control mt-2">Add</button>' +
        '</div>' +
        '</div>' +
    		'</form>' 
      );
    });
  });

  function product(){
    i = localStorage.length + 1;
    let pName = document.getElementById('pname').value;
    let pPrize = document.getElementById('pprize').value;
    let pCategory = document.getElementById('pcategory').value;
    const data = { name: pName, prize: pPrize, category: pCategory};
    localStorage.setItem(i,JSON.stringify(data));
  };
</script>
